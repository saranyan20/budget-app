{"version":3,"sources":["webpack:///./src/views/Category/ExpenseCategory.vue?41da","webpack:///src/views/Category/ExpenseCategory.vue","webpack:///./src/views/Category/ExpenseCategory.vue?9fc2","webpack:///./src/views/Category/ExpenseCategory.vue","webpack:///./src/views/Category/categoryQueries.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","style","textAlign","on","$event","addModal","update","reset","$v","expenseCategory","category_name","$model","checkIfValid","categoryNameFeedback","$set","sequence","sequenceFeedback","float","updateCategory","addCategory","expenseCategoryList","fields","setCurrentItems","scopedSlots","_u","key","fn","ref","item","index","directives","name","rawName","value","content","placement","expression","editItem","delete_allowed","deleteItem","_e","deleteModal","deleteCategory","deleteResponseModal","staticRenderFns","component","GET_INCOME_CATEGORY","gql","INSERT_INCOME_CATEGORY","UPDATE_INCOME_CATEGORY","DELETE_INCOME_CATEGORY","GET_EXPENSE_CATEGORY","INSERT_EXPENSE_CATEGORY","UPDATE_EXPENSE_CATEGORY","DELETE_EXPENSE_CATEGORY"],"mappings":"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","file":"js/chunk-03db478a.f8f04c48.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CRow',[_c('CCol',{attrs:{\"sm\":\"12\"}},[_c('CCard',[_c('CCardHeader',[_c('CRow',[_c('CCol',{staticClass:\"mt-3\"},[_c('h5',[_vm._v(\"Expense Category\")])]),_c('CCol',{style:({ textAlign: 'right' }),attrs:{\"sm\":\"9\"}},[_c('CButton',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.addModal = !_vm.addModal;\n                                _vm.update = false;\n                                _vm.reset();}}},[_vm._v(\"Add Category\")])],1),_c('CModal',{staticClass:\"addCategoryModal\",attrs:{\"title\":_vm.update ? 'Edit Category' : 'Add Category',\"show\":_vm.addModal,\"centered\":\"\",\"fade\":\"\"},on:{\"update:show\":function($event){_vm.addModal=$event}}},[_c('CInput',{attrs:{\"horizontal\":\"\",\"label\":\"Category\",\"lazy\":false,\"value\":_vm.$v.expenseCategory.category_name.$model,\"isValid\":_vm.checkIfValid('category_name'),\"invalidFeedback\":_vm.categoryNameFeedback\n                                    ? _vm.categoryNameFeedback\n                                    : 'Enter a valid category name'},on:{\"update:value\":function($event){return _vm.$set(_vm.$v.expenseCategory.category_name, \"$model\", $event)}}}),_c('CInput',{attrs:{\"horizontal\":\"\",\"label\":\"Sequence\",\"lazy\":false,\"value\":_vm.$v.expenseCategory.sequence.$model,\"isValid\":_vm.checkIfValid('sequence'),\"invalidFeedback\":_vm.sequenceFeedback\n                                    ? _vm.sequenceFeedback\n                                    : 'Enter a valid sequence number'},on:{\"update:value\":function($event){return _vm.$set(_vm.$v.expenseCategory.sequence, \"$model\", $event)}}}),_c('br'),_c('CButton',{staticClass:\"m-1\",style:({ float: 'right' }),attrs:{\"type\":\"submit\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.update ? _vm.updateCategory() : _vm.addCategory()}}},[_vm._v(\"Submit\")]),_c('CButton',{staticClass:\"m-1\",style:({ float: 'right' }),attrs:{\"type\":\"submit\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.addModal = false}}},[_vm._v(\"Cancel\")])],1)],1)],1),_c('CCardBody',[_c('CDataTable',{attrs:{\"items\":_vm.expenseCategoryList,\"fields\":_vm.fields,\"column-filter\":false,\"items-per-page\":10,\"hover\":\"\",\"sorter\":\"\",\"pagination\":\"\"},on:{\"filtered-items-change\":_vm.setCurrentItems},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\n                                    var item = ref.item;\n                                    var index = ref.index;\nreturn [_c('td',{staticClass:\"py-0\"},[_c('CButton',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:({\n                                    content: '<strong>Edit</strong>',\n                                    placement: 'bottom'\n                                }),expression:\"{\\n                                    content: '<strong>Edit</strong>',\\n                                    placement: 'bottom'\\n                                }\"}],staticClass:\"m-1\",attrs:{\"color\":\"success\",\"square\":\"\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.editItem(item, index)}}},[_c('CIcon',{attrs:{\"name\":\"cil-pencil\"}})],1),(item.delete_allowed != false)?_c('CButton',{directives:[{name:\"c-tooltip\",rawName:\"v-c-tooltip\",value:({\n                                    content: '<strong>Delete</strong>',\n                                    placement: 'bottom'\n                                }),expression:\"{\\n                                    content: '<strong>Delete</strong>',\\n                                    placement: 'bottom'\\n                                }\"}],staticClass:\"m-1\",attrs:{\"color\":\"danger\",\"square\":\"\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('CIcon',{attrs:{\"name\":\"cil-x-circle\"}})],1):_vm._e()],1)]}}])})],1)],1)],1),_c('CModal',{staticClass:\"disable-footer\",attrs:{\"title\":\"Delete Category\",\"show\":_vm.deleteModal,\"centered\":\"\",\"fade\":\"\"},on:{\"update:show\":function($event){_vm.deleteModal=$event}}},[_c('center',[_vm._v(\" Are you sure you want to delete ? \"),_c('div',{staticClass:\"inactive-modal-response\"},[_c('CButton',{staticClass:\"m-1\",attrs:{\"type\":\"submit\",\"color\":\"primary\"},on:{\"click\":_vm.deleteCategory}},[_vm._v(\"Yes\")]),_c('CButton',{staticClass:\"m-1\",attrs:{\"type\":\"submit\",\"color\":\"secondary\"},on:{\"click\":function($event){_vm.deleteModal = false}}},[_vm._v(\"No\")])],1)])],1),_c('CModal',{staticClass:\"disable-footer\",attrs:{\"title\":\"Delete Response\",\"show\":_vm.deleteResponseModal,\"centered\":\"\",\"fade\":\"\"},on:{\"update:show\":function($event){_vm.deleteResponseModal=$event}}},[_c('center',[_vm._v(\" This income category is already selected in a course. \"),_c('div',{staticClass:\"inactive-modal-response\"},[_c('CButton',{staticClass:\"m-1\",attrs:{\"type\":\"submit\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.deleteResponseModal = false;}}},[_vm._v(\"Ok\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <CRow>\r\n        <CCol sm=\"12\">\r\n            <CCard>\r\n                <CCardHeader>\r\n                    <CRow>\r\n                        <CCol class=\"mt-3\">\r\n                            <h5>Expense Category</h5>\r\n                        </CCol>\r\n                        <CCol sm=\"9\" :style=\"{ textAlign: 'right' }\">\r\n                            <CButton\r\n                                color=\"primary\"\r\n                                @click=\"\r\n                                    addModal = !addModal;\r\n                                    update = false;\r\n                                    reset();\r\n                                \"\r\n                                >Add Category</CButton\r\n                            >\r\n                        </CCol>\r\n                        <CModal\r\n                            :title=\"update ? 'Edit Category' : 'Add Category'\"\r\n                            :show.sync=\"addModal\"\r\n                            centered\r\n                            class=\"addCategoryModal\"\r\n                            fade\r\n                        >\r\n                            <CInput\r\n                                horizontal\r\n                                label=\"Category\"\r\n                                :lazy=\"false\"\r\n                                :value.sync=\"\r\n                                    $v.expenseCategory.category_name.$model\r\n                                \"\r\n                                :isValid=\"checkIfValid('category_name')\"\r\n                                :invalidFeedback=\"\r\n                                    categoryNameFeedback\r\n                                        ? categoryNameFeedback\r\n                                        : 'Enter a valid category name'\r\n                                \"\r\n                            />\r\n                            <CInput\r\n                                horizontal\r\n                                label=\"Sequence\"\r\n                                :lazy=\"false\"\r\n                                :value.sync=\"$v.expenseCategory.sequence.$model\"\r\n                                :isValid=\"checkIfValid('sequence')\"\r\n                                :invalidFeedback=\"\r\n                                    sequenceFeedback\r\n                                        ? sequenceFeedback\r\n                                        : 'Enter a valid sequence number'\r\n                                \"\r\n                            />\r\n                            <br />\r\n                            <CButton\r\n                                type=\"submit\"\r\n                                color=\"primary\"\r\n                                class=\"m-1\"\r\n                                @click=\"\r\n                                    update ? updateCategory() : addCategory()\r\n                                \"\r\n                                :style=\"{ float: 'right' }\"\r\n                                >Submit</CButton\r\n                            >\r\n\r\n                            <CButton\r\n                                type=\"submit\"\r\n                                color=\"secondary\"\r\n                                class=\"m-1\"\r\n                                @click=\"addModal = false\"\r\n                                :style=\"{ float: 'right' }\"\r\n                                >Cancel</CButton\r\n                            >\r\n                        </CModal>\r\n                    </CRow>\r\n                </CCardHeader>\r\n                <CCardBody>\r\n                    <CDataTable\r\n                        :items=\"expenseCategoryList\"\r\n                        :fields=\"fields\"\r\n                        :column-filter=\"false\"\r\n                        :items-per-page=\"10\"\r\n                        hover\r\n                        sorter\r\n                        pagination\r\n                        @filtered-items-change=\"setCurrentItems\"\r\n                    >\r\n                        <template #action=\"{ item, index }\">\r\n                            <td class=\"py-0\">\r\n                                <CButton\r\n                                    color=\"success\"\r\n                                    square\r\n                                    size=\"sm\"\r\n                                    class=\"m-1\"\r\n                                    @click=\"editItem(item, index)\"\r\n                                    v-c-tooltip=\"{\r\n                                        content: '<strong>Edit</strong>',\r\n                                        placement: 'bottom'\r\n                                    }\"\r\n                                >\r\n                                    <CIcon name=\"cil-pencil\" />\r\n                                </CButton>\r\n                                <CButton\r\n                                    v-if=\"item.delete_allowed != false\"\r\n                                    color=\"danger\"\r\n                                    square\r\n                                    size=\"sm\"\r\n                                    class=\"m-1\"\r\n                                    @click=\"deleteItem(item)\"\r\n                                    v-c-tooltip=\"{\r\n                                        content: '<strong>Delete</strong>',\r\n                                        placement: 'bottom'\r\n                                    }\"\r\n                                >\r\n                                    <CIcon name=\"cil-x-circle\" />\r\n                                </CButton>\r\n                            </td>\r\n                        </template>\r\n                    </CDataTable>\r\n                </CCardBody>\r\n            </CCard>\r\n        </CCol>\r\n        <CModal\r\n            title=\"Delete Category\"\r\n            :show.sync=\"deleteModal\"\r\n            class=\"disable-footer\"\r\n            centered\r\n            fade\r\n        >\r\n            <center>\r\n                Are you sure you want to delete ?\r\n                <div class=\"inactive-modal-response\">\r\n                    <CButton\r\n                        type=\"submit\"\r\n                        color=\"primary\"\r\n                        class=\"m-1\"\r\n                        @click=\"deleteCategory\"\r\n                        >Yes</CButton\r\n                    >\r\n                    <CButton\r\n                        type=\"submit\"\r\n                        color=\"secondary\"\r\n                        class=\"m-1\"\r\n                        @click=\"deleteModal = false\"\r\n                        >No</CButton\r\n                    >\r\n                </div>\r\n            </center>\r\n        </CModal>\r\n        <CModal\r\n            title=\"Delete Response\"\r\n            :show.sync=\"deleteResponseModal\"\r\n            class=\"disable-footer\"\r\n            centered\r\n            fade\r\n        >\r\n            <center>\r\n                This income category is already selected in a course.\r\n                <div class=\"inactive-modal-response\">\r\n                    <CButton\r\n                        type=\"submit\"\r\n                        color=\"primary\"\r\n                        class=\"m-1\"\r\n                        @click=\"deleteResponseModal = false;\"\r\n                        >Ok</CButton\r\n                    >\r\n                </div>\r\n            </center>\r\n        </CModal>\r\n    </CRow>\r\n</template>\r\n\r\n<script>\r\nimport queries from './categoryQueries';\r\nimport { validationMixin } from 'vuelidate';\r\nimport { required, numeric } from 'vuelidate/lib/validators';\r\n\r\nconst fields = [\r\n    { key: 'category_name' },\r\n    { key: 'sequence' },\r\n    {\r\n        key: 'action',\r\n        label: 'Action',\r\n        _style: 'min-width: 6rem',\r\n        sorter: false,\r\n        filter: false\r\n    }\r\n];\r\nexport default {\r\n    data() {\r\n        return {\r\n            fields,\r\n            addModal: false,\r\n            deleteModal: false,\r\n            deleteResponseModal: false,\r\n            update: false,\r\n            addSequence: '',\r\n            expenseCategory: this.getEmptyForm(),\r\n            expenseCategoryList: [],\r\n            categoryNameFeedback: '',\r\n            sequenceFeedback: '',\r\n            selectedCategoryIndex: ''\r\n        };\r\n    },\r\n    computed: {\r\n        formString() {\r\n            return JSON.stringify(this.expenseCategory, null, 2);\r\n        },\r\n        isValid() {\r\n            return !this.$v.expenseCategory.$invalid;\r\n        },\r\n        isDirty() {\r\n            return this.$v.expenseCategory.$anyDirty;\r\n        }\r\n    },\r\n    mixins: [validationMixin],\r\n    validations: {\r\n        expenseCategory: {\r\n            category_name: {\r\n                required,\r\n                isValidCategory(val) {\r\n                    for (const [\r\n                        index,\r\n                        el\r\n                    ] of this.expenseCategoryList.entries()) {\r\n                        if (\r\n                            index === this.selectedCategoryIndex &&\r\n                            val == el.category_name\r\n                        ) {\r\n                            this.categoryNameFeedback = '';\r\n                            return true;\r\n                        }\r\n                        if (el.category_name == val) {\r\n                            this.categoryNameFeedback =\r\n                                'Category name already exist';\r\n                            return false;\r\n                        }\r\n                    }\r\n                    this.categoryNameFeedback = '';\r\n                    return true;\r\n                }\r\n            },\r\n            sequence: {\r\n                required,\r\n                numeric,\r\n                isValidSequence(val) {\r\n                    for (const [\r\n                        index,\r\n                        el\r\n                    ] of this.expenseCategoryList.entries()) {\r\n                        if (\r\n                            index === this.selectedCategoryIndex &&\r\n                            val == el.sequence\r\n                        ) {\r\n                            this.sequenceFeedback = '';\r\n                            return true;\r\n                        }\r\n                        if (el.sequence == val) {\r\n                            this.sequenceFeedback = 'Sequence already exist';\r\n                            return false;\r\n                        }\r\n                    }\r\n                    this.sequenceFeedback = '';\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // Validation\r\n        checkIfValid(fieldName) {\r\n            const field = this.$v.expenseCategory[fieldName];\r\n            if (!field.$dirty) {\r\n                return null;\r\n            }\r\n            return !(field.$invalid || field.$model === '');\r\n        },\r\n\r\n        validate() {\r\n            this.$v.$touch();\r\n        },\r\n\r\n        reset() {\r\n            this.expenseCategory = this.getEmptyForm();\r\n            this.$v.$reset();\r\n        },\r\n\r\n        getEmptyForm() {\r\n            return {\r\n                sequence: '',\r\n                category_name: ''\r\n            };\r\n        },\r\n\r\n        setCurrentItems(val) {\r\n            this.currentItems = val;\r\n        },\r\n        editItem(item, index) {\r\n            this.addModal = true;\r\n            this.update = true;\r\n            this.selectedCategoryIndex = index;\r\n            delete item.__typename;\r\n            this.reset();\r\n            this.expenseCategory = {\r\n                ...item\r\n            };\r\n        },\r\n        deleteItem(item) {\r\n            this.expenseCategory = {\r\n                ...item\r\n            };\r\n            this.deleteModal = true;\r\n        },\r\n        addCategory() {\r\n            this.validate();\r\n            if (this.expenseCategory && this.isValid) {\r\n                this.$apollo\r\n                    .mutate({\r\n                        mutation: queries.INSERT_EXPENSE_CATEGORY,\r\n                        variables: this.expenseCategory\r\n                    })\r\n                    .then(res => {\r\n                        const result =\r\n                            res?.data?.insert_budget_app_expense_category?.returning;\r\n                        if (result[0].id > 0) {\r\n                            this.addModal = false;\r\n                            this.$apollo.queries.categoryData.refetch();\r\n                            this.expenseCategoryList.push(this.expenseCategory);\r\n                            this.reset();\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n            this.addModal = false;\r\n        },\r\n        updateCategory() {\r\n            this.validate();\r\n            if (this.isValid) {\r\n                this.$apollo\r\n                    .mutate({\r\n                        mutation: queries.UPDATE_EXPENSE_CATEGORY,\r\n                        variables: this.expenseCategory\r\n                    })\r\n                    .then(res => {\r\n                        const result =\r\n                            res?.data?.update_budget_app_expense_category?.returning;\r\n                        if (result[0].id > 0) {\r\n                            this.addModal = false;\r\n                            this.$apollo.queries.categoryData.refetch();\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                this.editModal = false;\r\n            }\r\n        },\r\n        deleteCategory() {\r\n            this.$apollo\r\n                .mutate({\r\n                    mutation: queries.DELETE_EXPENSE_CATEGORY,\r\n                    variables: {\r\n                        id: this.expenseCategory.id\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    const result =\r\n                        res?.data?.delete_budget_app_expense_category?.returning;\r\n                    if (result[0].id > 0) {\r\n                        this.$apollo.queries.categoryData.refetch();\r\n                        this.deleteModal = false;\r\n                        this.editModal = false;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if(JSON.stringify(err).includes('Foreign key violation')) {\r\n                        this.deleteModal = false;\r\n                        this.deleteResponseModal = true;\r\n                    }\r\n                });\r\n        }\r\n    },\r\n    apollo: {\r\n        categoryData: {\r\n            query: queries.GET_EXPENSE_CATEGORY,\r\n            update: data => data,\r\n            result({ data }) {\r\n                this.update = false;\r\n                this.expenseCategoryList = data?.budget_app_expense_category;\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpenseCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpenseCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExpenseCategory.vue?vue&type=template&id=616a3365&\"\nimport script from \"./ExpenseCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./ExpenseCategory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import gql from 'graphql-tag';\r\n\r\n// Income Categories\r\n\r\nconst GET_INCOME_CATEGORY = gql`\r\n    query MyQuery {\r\n        budget_app_income_category(order_by: { sequence: asc }) {\r\n            category_name\r\n            sequence\r\n            id\r\n        }\r\n    }\r\n`;\r\n\r\nconst INSERT_INCOME_CATEGORY = gql`\r\n    mutation ($category_name: String!, $sequence: Int!) {\r\n        insert_budget_app_income_category(\r\n            objects: { category_name: $category_name, sequence: $sequence }\r\n        ) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst UPDATE_INCOME_CATEGORY = gql`\r\n    mutation ($category_name: String!, $sequence: Int!, $id: Int!) {\r\n        update_budget_app_income_category(\r\n            where: { id: { _eq: $id } }\r\n            _set: { category_name: $category_name, sequence: $sequence }\r\n        ) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst DELETE_INCOME_CATEGORY = gql`\r\n    mutation ($id: Int!) {\r\n        delete_budget_app_income_category(where: { id: { _eq: $id } }) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n// Expense Categories\r\n\r\nconst GET_EXPENSE_CATEGORY = gql`\r\n    query MyQuery {\r\n        budget_app_expense_category(order_by: { sequence: asc }) {\r\n            sequence\r\n            id\r\n            category_name\r\n        }\r\n    }\r\n`;\r\n\r\nconst INSERT_EXPENSE_CATEGORY = gql`\r\n    mutation ($category_name: String!, $sequence: Int!) {\r\n        insert_budget_app_expense_category(\r\n            objects: { category_name: $category_name, sequence: $sequence }\r\n        ) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst UPDATE_EXPENSE_CATEGORY = gql`\r\n    mutation ($category_name: String!, $sequence: Int!, $id: Int!) {\r\n        update_budget_app_expense_category(\r\n            where: { id: { _eq: $id } }\r\n            _set: { category_name: $category_name, sequence: $sequence}\r\n        ) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst DELETE_EXPENSE_CATEGORY = gql`\r\n    mutation ($id: Int!) {\r\n        delete_budget_app_expense_category(where: { id: { _eq: $id } }) {\r\n            returning {\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport default {\r\n    GET_INCOME_CATEGORY,\r\n    INSERT_INCOME_CATEGORY,\r\n    UPDATE_INCOME_CATEGORY,\r\n    DELETE_INCOME_CATEGORY,\r\n    GET_EXPENSE_CATEGORY,\r\n    INSERT_EXPENSE_CATEGORY,\r\n    UPDATE_EXPENSE_CATEGORY,\r\n    DELETE_EXPENSE_CATEGORY\r\n};\r\n"],"sourceRoot":""}